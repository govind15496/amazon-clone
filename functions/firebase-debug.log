[debug] [2022-10-09T12:32:06.057Z] ----------------------------------------------------------------------
[debug] [2022-10-09T12:32:06.086Z] Command:       /home/govind/.nvm/versions/node/v14.4.0/bin/node /home/govind/.nvm/versions/node/v14.4.0/bin/firebase emulators:start
[debug] [2022-10-09T12:32:06.090Z] CLI Version:   10.9.2
[debug] [2022-10-09T12:32:06.092Z] Platform:      linux
[debug] [2022-10-09T12:32:06.093Z] Node Version:  v14.4.0
[debug] [2022-10-09T12:32:06.099Z] Time:          Sun Oct 09 2022 18:02:06 GMT+0530 (India Standard Time)
[debug] [2022-10-09T12:32:06.100Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-10-09T12:32:06.965Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-10-09T12:32:06.969Z] > authorizing via signed-in user (govindsingh15496@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2022-10-09T12:32:07.402Z] [hub] writing locator at /tmp/hub-clone-e34cd.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "16" doesn't match your global version "14". Using node@14 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"16\" doesn't match your global version \"14\". Using node@14 from host."}}
[debug] [2022-10-09T12:32:07.639Z] defaultcredentials: writing to file /home/govind/.config/firebase/govindsingh15496_gmail_com_application_default_credentials.json
[debug] [2022-10-09T12:32:07.735Z] Setting GAC to /home/govind/.config/firebase/govindsingh15496_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/govind/.config/firebase/govindsingh15496_gmail_com_application_default_credentials.json"}}
[debug] [2022-10-09T12:32:07.756Z] > refreshing access token with scopes: []
[debug] [2022-10-09T12:32:07.766Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2022-10-09T12:32:08.135Z] <<< HTTP RESPONSE 200 {"date":"Sun, 09 Oct 2022 12:32:08 GMT","expires":"Mon, 01 Jan 1990 00:00:00 GMT","pragma":"no-cache","cache-control":"no-cache, no-store, max-age=0, must-revalidate","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-10-09T12:32:08.249Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-e34cd/adminSdkConfig [none]
[debug] [2022-10-09T12:32:08.904Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-e34cd/adminSdkConfig 200
[debug] [2022-10-09T12:32:08.904Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-e34cd/adminSdkConfig {"projectId":"clone-e34cd","storageBucket":"clone-e34cd.appspot.com"}
[debug] [2022-10-09T12:32:08.973Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-e34cd/sites 
[debug] [2022-10-09T12:32:10.334Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-e34cd/sites 200
[debug] [2022-10-09T12:32:10.334Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-e34cd/sites {"sites":[{"name":"projects/clone-e34cd/sites/clone-e34cd","defaultUrl":"https://clone-e34cd.web.app","appId":"1:201675211103:web:4ac0f8bdcb82a0efb6f6ea","type":"DEFAULT_SITE"}]}
[debug] [2022-10-09T12:32:10.335Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-e34cd/webApps/1:201675211103:web:4ac0f8bdcb82a0efb6f6ea/config [none]
[debug] [2022-10-09T12:32:11.766Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-e34cd/webApps/1:201675211103:web:4ac0f8bdcb82a0efb6f6ea/config 200
[debug] [2022-10-09T12:32:11.767Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-e34cd/webApps/1:201675211103:web:4ac0f8bdcb82a0efb6f6ea/config {"projectId":"clone-e34cd","appId":"1:201675211103:web:4ac0f8bdcb82a0efb6f6ea","storageBucket":"clone-e34cd.appspot.com","apiKey":"AIzaSyAuqv2F27yQL82n6GCpEfNecSCURIdeg6Y","authDomain":"clone-e34cd.firebaseapp.com","messagingSenderId":"201675211103","measurementId":"G-KE23G1W0VJ"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[warn] ⚠  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2022-10-09T12:32:11.864Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-10-09T12:32:11.866Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-10-09T12:32:11.866Z] Starting Emulator UI with command {"binary":"node","args":["/home/govind/.cache/firebase/emulators/ui-v1.7.0/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/govind/.cache/firebase/emulators/ui-v1.7.0/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-10-09T12:32:12.095Z] Web / API server started at localhost:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4001\n"}}
[info] i  functions: Watching "/home/govind/Desktop/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/govind/Desktop/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2022-10-09T12:32:12.153Z] Validating nodejs source
[debug] [2022-10-09T12:32:15.083Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^10.13.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-09T12:32:15.084Z] Building nodejs source
[debug] [2022-10-09T12:32:15.084Z] Analyzing nodejs backend spec
[debug] [2022-10-09T12:32:15.087Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-09T12:32:15.290Z] Serving at port 9005

[debug] [2022-10-09T12:32:15.496Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-09T12:32:15.573Z] shutdown requested via /__/quitquitquit

[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/clone-e34cd/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-e34cd/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4001                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4001/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-10-09T12:32:24.276Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T12:32:24.276Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T12:32:24.277Z] Accepted request GET /clone-e34cd/us-central1/api --> us-central1-api
[debug] [2022-10-09T12:32:24.291Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T12:32:24.291Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T12:32:24.292Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:32:24.292Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: Assigning socketPath: /tmp/fire_emu_16041.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: Assigning socketPath: /tmp/fire_emu_16041.sock"}}
[debug] [2022-10-09T12:32:24.293Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: BUSY"}}
[debug] [2022-10-09T12:32:32.191Z] [runtime-status] [16041] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T12:32:32.194Z] [runtime-status] [16041] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Disabled runtime features: undefined"}}
[debug] [2022-10-09T12:32:32.199Z] [runtime-status] [16041] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:32:32.202Z] [runtime-status] [16041] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:32:32.204Z] [runtime-status] [16041] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T12:32:32.205Z] [runtime-status] [16041] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:32:32.257Z] [runtime-status] [16041] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T12:32:32.258Z] [runtime-status] [16041] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T12:32:32.258Z] [runtime-status] [16041] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:32:32.261Z] [runtime-status] [16041] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:32:32.262Z] [runtime-status] [16041] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:32:32.262Z] [runtime-status] [16041] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T12:32:32.414Z] [runtime-status] [16041] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:32:32.418Z] [runtime-status] [16041] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Running api in signature http"}}
[debug] [2022-10-09T12:32:32.438Z] [runtime-status] [16041] Attempting to listen to socketPath: /tmp/fire_emu_16041.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Attempting to listen to socketPath: /tmp/fire_emu_16041.sock"}}
[debug] [2022-10-09T12:32:32.443Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:32:32.445Z] [functions] Got req.url=/clone-e34cd/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api, mapping to path=/"}}
[debug] [2022-10-09T12:32:32.454Z] [runtime-status] [16041] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Ephemeral server handling GET request"}}
[debug] [2022-10-09T12:32:32.463Z] [runtime-status] [16041] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T12:32:32.468Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: IDLE"}}
[debug] [2022-10-09T12:32:32.470Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-09T12:33:16.987Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T12:33:16.988Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T12:33:16.988Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20853900 --> us-central1-api
[debug] [2022-10-09T12:33:16.988Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:33:16.989Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: Assigning socketPath: /tmp/fire_emu_16041.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: Assigning socketPath: /tmp/fire_emu_16041.sock"}}
[debug] [2022-10-09T12:33:16.989Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: BUSY"}}
[debug] [2022-10-09T12:33:16.992Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-09T12:33:16.993Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-09T12:33:16.993Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20853900 --> us-central1-api
[debug] [2022-10-09T12:33:17.008Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T12:33:17.009Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T12:33:17.009Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:33:17.010Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: Assigning socketPath: /tmp/fire_emu_16111.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: Assigning socketPath: /tmp/fire_emu_16111.sock"}}
[debug] [2022-10-09T12:33:17.010Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: BUSY"}}
[debug] [2022-10-09T12:33:17.014Z] [runtime-status] [16041] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:33:17.016Z] [runtime-status] [16041] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Running api in signature http"}}
[debug] [2022-10-09T12:33:17.017Z] [runtime-status] [16041] Attempting to listen to socketPath: /tmp/fire_emu_16041.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Attempting to listen to socketPath: /tmp/fire_emu_16041.sock"}}
[debug] [2022-10-09T12:33:17.040Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:33:17.041Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900"}}
[debug] [2022-10-09T12:33:17.069Z] [runtime-status] [16041] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T12:33:17.069Z] [runtime-status] [16041] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T12:33:17.072Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: IDLE"}}
[debug] [2022-10-09T12:33:17.086Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T12:33:17.117Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-09T12:33:17.117Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-09T12:33:17.118Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20853900 --> us-central1-api
[debug] [2022-10-09T12:33:17.118Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:33:17.119Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: Assigning socketPath: /tmp/fire_emu_16041.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: Assigning socketPath: /tmp/fire_emu_16041.sock"}}
[debug] [2022-10-09T12:33:17.120Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: BUSY"}}
[debug] [2022-10-09T12:33:17.125Z] [runtime-status] [16041] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:33:17.129Z] [runtime-status] [16041] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Running api in signature http"}}
[debug] [2022-10-09T12:33:17.129Z] [runtime-status] [16041] Attempting to listen to socketPath: /tmp/fire_emu_16041.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Attempting to listen to socketPath: /tmp/fire_emu_16041.sock"}}
[debug] [2022-10-09T12:33:17.139Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:33:17.140Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900"}}
[debug] [2022-10-09T12:33:17.182Z] [runtime-status] [16041] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  undefined {"user":"Payment request Recieved BOOM!!! for this amount >>>  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  undefined"}}
[debug] [2022-10-09T12:33:17.204Z] [runtime-status] [16041] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16041] Ephemeral server survived."}}
[info] >  (node:16041) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:16041) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16041) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16) {"user":"    at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16041) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16041) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16041) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16041) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16041) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16041) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-10-09T12:33:19.158Z] [runtime-status] [16111] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T12:33:19.161Z] [runtime-status] [16111] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Disabled runtime features: undefined"}}
[debug] [2022-10-09T12:33:19.164Z] [runtime-status] [16111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:19.166Z] [runtime-status] [16111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:19.166Z] [runtime-status] [16111] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T12:33:19.167Z] [runtime-status] [16111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:19.214Z] [runtime-status] [16111] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T12:33:19.223Z] [runtime-status] [16111] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T12:33:19.227Z] [runtime-status] [16111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:19.230Z] [runtime-status] [16111] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:19.232Z] [runtime-status] [16111] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:19.236Z] [runtime-status] [16111] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T12:33:19.384Z] [runtime-status] [16111] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:33:19.410Z] [runtime-status] [16111] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Running api in signature http"}}
[debug] [2022-10-09T12:33:19.421Z] [runtime-status] [16111] Attempting to listen to socketPath: /tmp/fire_emu_16111.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Attempting to listen to socketPath: /tmp/fire_emu_16111.sock"}}
[debug] [2022-10-09T12:33:19.426Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:33:19.426Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900"}}
[debug] [2022-10-09T12:33:19.442Z] [runtime-status] [16111] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T12:33:19.460Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-09T12:33:19.461Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-09T12:33:19.462Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20853900 --> us-central1-api
[debug] [2022-10-09T12:33:19.528Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T12:33:19.528Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2022-10-09T12:33:19.529Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:33:19.529Z] [worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: Assigning socketPath: /tmp/fire_emu_16150.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: Assigning socketPath: /tmp/fire_emu_16150.sock"}}
[debug] [2022-10-09T12:33:19.529Z] [worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: BUSY"}}
[debug] [2022-10-09T12:33:19.530Z] [runtime-status] [16111] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T12:33:19.532Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: IDLE"}}
[debug] [2022-10-09T12:33:19.532Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-09T12:33:23.022Z] [runtime-status] [16150] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T12:33:23.034Z] [runtime-status] [16150] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Disabled runtime features: undefined"}}
[debug] [2022-10-09T12:33:23.039Z] [runtime-status] [16150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:23.047Z] [runtime-status] [16150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:23.052Z] [runtime-status] [16150] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T12:33:23.052Z] [runtime-status] [16150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:23.110Z] [runtime-status] [16150] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T12:33:23.111Z] [runtime-status] [16150] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T12:33:23.113Z] [runtime-status] [16150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:23.115Z] [runtime-status] [16150] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:23.116Z] [runtime-status] [16150] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:33:23.117Z] [runtime-status] [16150] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T12:33:23.314Z] [runtime-status] [16150] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:33:23.315Z] [runtime-status] [16150] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Running api in signature http"}}
[debug] [2022-10-09T12:33:23.381Z] [runtime-status] [16150] Attempting to listen to socketPath: /tmp/fire_emu_16150.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Attempting to listen to socketPath: /tmp/fire_emu_16150.sock"}}
[debug] [2022-10-09T12:33:23.406Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:33:23.406Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20853900, mapping to path=/payments/create?total%20=%20853900"}}
[debug] [2022-10-09T12:33:23.415Z] [runtime-status] [16150] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  undefined {"user":"Payment request Recieved BOOM!!! for this amount >>>  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  undefined"}}
[debug] [2022-10-09T12:33:23.437Z] [runtime-status] [16150] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16150] Ephemeral server survived."}}
[info] >  (node:16150) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:16150) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16150) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16) {"user":"    at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16150) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16150) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16150) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16150) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16150) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16150) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2022-10-09T12:34:17.227Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: exited"}}
[debug] [2022-10-09T12:34:17.236Z] [worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d5408cec-7460-4bc6-b7a0-d2f79f14b1d2]: FINISHED"}}
[debug] [2022-10-09T12:34:17.243Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2022-10-09T12:34:23.336Z] [worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: exited"}}
[debug] [2022-10-09T12:34:23.336Z] [worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6d13ff39-523e-4942-bd7e-f5577e6c4a5c]: FINISHED"}}
[debug] [2022-10-09T12:34:23.336Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-09T12:39:52.584Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T12:39:52.586Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T12:39:52.586Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20242900 --> us-central1-api
[debug] [2022-10-09T12:39:52.586Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 1"}}
[debug] [2022-10-09T12:39:52.586Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:39:52.587Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: Assigning socketPath: /tmp/fire_emu_16111.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: Assigning socketPath: /tmp/fire_emu_16111.sock"}}
[debug] [2022-10-09T12:39:52.587Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: BUSY"}}
[debug] [2022-10-09T12:39:52.592Z] [runtime-status] [16111] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:39:52.597Z] [runtime-status] [16111] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Running api in signature http"}}
[debug] [2022-10-09T12:39:52.597Z] [runtime-status] [16111] Attempting to listen to socketPath: /tmp/fire_emu_16111.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Attempting to listen to socketPath: /tmp/fire_emu_16111.sock"}}
[debug] [2022-10-09T12:39:52.600Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:39:52.601Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20242900, mapping to path=/payments/create?total%20=%20242900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20242900, mapping to path=/payments/create?total%20=%20242900"}}
[debug] [2022-10-09T12:39:52.614Z] [runtime-status] [16111] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T12:39:52.615Z] [runtime-status] [16111] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T12:39:52.625Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: IDLE"}}
[debug] [2022-10-09T12:39:52.625Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-09T12:39:52.627Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T12:39:52.628Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T12:39:52.628Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20242900 --> us-central1-api
[debug] [2022-10-09T12:39:52.628Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:39:52.628Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: Assigning socketPath: /tmp/fire_emu_16111.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: Assigning socketPath: /tmp/fire_emu_16111.sock"}}
[debug] [2022-10-09T12:39:52.629Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: BUSY"}}
[debug] [2022-10-09T12:39:52.633Z] [runtime-status] [16111] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:39:52.635Z] [runtime-status] [16111] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Running api in signature http"}}
[debug] [2022-10-09T12:39:52.635Z] [runtime-status] [16111] Attempting to listen to socketPath: /tmp/fire_emu_16111.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Attempting to listen to socketPath: /tmp/fire_emu_16111.sock"}}
[debug] [2022-10-09T12:39:52.637Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:39:52.638Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20242900, mapping to path=/payments/create?total%20=%20242900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20242900, mapping to path=/payments/create?total%20=%20242900"}}
[debug] [2022-10-09T12:39:52.652Z] [runtime-status] [16111] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  undefined {"user":"Payment request Recieved BOOM!!! for this amount >>>  undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  undefined"}}
[debug] [2022-10-09T12:39:52.675Z] [runtime-status] [16111] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16111] Ephemeral server survived."}}
[info] >  (node:16111) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:16111) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16111) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16) {"user":"    at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16111) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16111) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-10-09T12:40:46.259Z] File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-09T12:40:47.264Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2022-10-09T12:40:47.267Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: FINISHING"}}
[debug] [2022-10-09T12:40:47.279Z] Validating nodejs source
[debug] [2022-10-09T12:40:51.167Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^10.13.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-09T12:40:51.171Z] Building nodejs source
[debug] [2022-10-09T12:40:51.172Z] Analyzing nodejs backend spec
[debug] [2022-10-09T12:40:51.185Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-09T12:40:51.401Z] Serving at port 9005

[debug] [2022-10-09T12:40:51.535Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-09T12:40:51.549Z] shutdown requested via /__/quitquitquit

[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2022-10-09T12:40:52.659Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: exited"}}
[debug] [2022-10-09T12:40:52.659Z] [worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b970f3fc-9ad9-461e-b4c0-3452809dee64]: FINISHED"}}
[debug] [2022-10-09T12:40:52.660Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-09T12:40:59.941Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T12:40:59.941Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T12:40:59.941Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20179400 --> us-central1-api
[debug] [2022-10-09T12:40:59.942Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-09T12:40:59.953Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T12:40:59.954Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T12:40:59.954Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:40:59.954Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: Assigning socketPath: /tmp/fire_emu_16514.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: Assigning socketPath: /tmp/fire_emu_16514.sock"}}
[debug] [2022-10-09T12:40:59.954Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: BUSY"}}
[debug] [2022-10-09T12:41:12.165Z] [runtime-status] [16514] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T12:41:12.168Z] [runtime-status] [16514] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Disabled runtime features: undefined"}}
[debug] [2022-10-09T12:41:12.172Z] [runtime-status] [16514] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:12.174Z] [runtime-status] [16514] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:12.176Z] [runtime-status] [16514] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T12:41:12.176Z] [runtime-status] [16514] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:12.245Z] [runtime-status] [16514] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T12:41:12.246Z] [runtime-status] [16514] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T12:41:12.247Z] [runtime-status] [16514] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:12.249Z] [runtime-status] [16514] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:12.250Z] [runtime-status] [16514] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:12.251Z] [runtime-status] [16514] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T12:41:13.331Z] [runtime-status] [16514] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:41:13.337Z] [runtime-status] [16514] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Running api in signature http"}}
[debug] [2022-10-09T12:41:13.531Z] [runtime-status] [16514] Attempting to listen to socketPath: /tmp/fire_emu_16514.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Attempting to listen to socketPath: /tmp/fire_emu_16514.sock"}}
[debug] [2022-10-09T12:41:13.559Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:41:13.560Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20179400, mapping to path=/payments/create?total%20=%20179400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20179400, mapping to path=/payments/create?total%20=%20179400"}}
[debug] [2022-10-09T12:41:13.572Z] [runtime-status] [16514] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T12:41:13.581Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-09T12:41:13.582Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-09T12:41:13.582Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20179400 --> us-central1-api
[debug] [2022-10-09T12:41:13.591Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T12:41:13.592Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T12:41:13.592Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T12:41:13.592Z] [worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: Assigning socketPath: /tmp/fire_emu_16523.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: Assigning socketPath: /tmp/fire_emu_16523.sock"}}
[debug] [2022-10-09T12:41:13.593Z] [worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: BUSY"}}
[debug] [2022-10-09T12:41:13.594Z] [runtime-status] [16514] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T12:41:13.595Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: IDLE"}}
[debug] [2022-10-09T12:41:13.604Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T12:41:15.252Z] [runtime-status] [16523] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T12:41:15.256Z] [runtime-status] [16523] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Disabled runtime features: undefined"}}
[debug] [2022-10-09T12:41:15.259Z] [runtime-status] [16523] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:15.261Z] [runtime-status] [16523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:15.263Z] [runtime-status] [16523] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T12:41:15.264Z] [runtime-status] [16523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:15.333Z] [runtime-status] [16523] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T12:41:15.333Z] [runtime-status] [16523] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T12:41:15.335Z] [runtime-status] [16523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:15.336Z] [runtime-status] [16523] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:15.338Z] [runtime-status] [16523] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T12:41:15.338Z] [runtime-status] [16523] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T12:41:15.534Z] [runtime-status] [16523] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T12:41:15.535Z] [runtime-status] [16523] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Running api in signature http"}}
[debug] [2022-10-09T12:41:15.560Z] [runtime-status] [16523] Attempting to listen to socketPath: /tmp/fire_emu_16523.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Attempting to listen to socketPath: /tmp/fire_emu_16523.sock"}}
[debug] [2022-10-09T12:41:15.566Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T12:41:15.566Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20179400, mapping to path=/payments/create?total%20=%20179400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20179400, mapping to path=/payments/create?total%20=%20179400"}}
[debug] [2022-10-09T12:41:15.579Z] [runtime-status] [16523] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T12:41:15.653Z] [runtime-status] [16523] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16523] Ephemeral server survived."}}
[info] >  (node:16523) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:16523) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16523) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16) {"user":"    at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16523) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16523) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16523) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16523) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16523) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16523) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2022-10-09T12:42:15.554Z] [worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: exited"}}
[debug] [2022-10-09T12:42:15.554Z] [worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a50ed630-aad4-4451-a692-481b0c5f8343]: FINISHED"}}
[debug] [2022-10-09T12:42:15.555Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-09T13:02:47.821Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T13:02:47.821Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T13:02:47.821Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:02:47.821Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2022-10-09T13:02:47.822Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:02:47.822Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: Assigning socketPath: /tmp/fire_emu_16514.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: Assigning socketPath: /tmp/fire_emu_16514.sock"}}
[debug] [2022-10-09T13:02:47.822Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: BUSY"}}
[debug] [2022-10-09T13:02:47.829Z] [runtime-status] [16514] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T13:02:47.832Z] [runtime-status] [16514] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Running api in signature http"}}
[debug] [2022-10-09T13:02:47.832Z] [runtime-status] [16514] Attempting to listen to socketPath: /tmp/fire_emu_16514.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Attempting to listen to socketPath: /tmp/fire_emu_16514.sock"}}
[debug] [2022-10-09T13:02:47.837Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T13:02:47.838Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T13:02:47.842Z] [runtime-status] [16514] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T13:02:47.845Z] [runtime-status] [16514] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T13:02:47.855Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: IDLE"}}
[debug] [2022-10-09T13:02:47.855Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-09T13:02:47.874Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T13:02:47.874Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T13:02:47.874Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:02:47.874Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:02:47.875Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: Assigning socketPath: /tmp/fire_emu_16514.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: Assigning socketPath: /tmp/fire_emu_16514.sock"}}
[debug] [2022-10-09T13:02:47.875Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: BUSY"}}
[debug] [2022-10-09T13:02:47.876Z] [runtime-status] [16514] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T13:02:47.877Z] [runtime-status] [16514] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Running api in signature http"}}
[debug] [2022-10-09T13:02:47.878Z] [runtime-status] [16514] Attempting to listen to socketPath: /tmp/fire_emu_16514.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Attempting to listen to socketPath: /tmp/fire_emu_16514.sock"}}
[debug] [2022-10-09T13:02:47.880Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T13:02:47.880Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T13:02:47.885Z] [runtime-status] [16514] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T13:02:47.908Z] [runtime-status] [16514] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [16514] Ephemeral server survived."}}
[info] >  (node:16514) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:16514) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16514) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16) {"user":"    at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:16514) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16514) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16514) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16514) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16514) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:16514) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-10-09T13:03:03.706Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-09T13:03:03.706Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-09T13:03:03.707Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:03:03.718Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T13:03:03.719Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T13:03:03.719Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:03:03.719Z] [worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: Assigning socketPath: /tmp/fire_emu_17325.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: Assigning socketPath: /tmp/fire_emu_17325.sock"}}
[debug] [2022-10-09T13:03:03.719Z] [worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: BUSY"}}
[debug] [2022-10-09T13:03:03.723Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-09T13:03:03.724Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-09T13:03:03.724Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:03:03.742Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T13:03:03.743Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2022-10-09T13:03:03.743Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:03:03.743Z] [worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: Assigning socketPath: /tmp/fire_emu_17331.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: Assigning socketPath: /tmp/fire_emu_17331.sock"}}
[debug] [2022-10-09T13:03:03.743Z] [worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: BUSY"}}
[debug] [2022-10-09T13:03:06.445Z] [runtime-status] [17331] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T13:03:06.451Z] [runtime-status] [17331] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Disabled runtime features: undefined"}}
[debug] [2022-10-09T13:03:06.455Z] [runtime-status] [17331] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.458Z] [runtime-status] [17331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.459Z] [runtime-status] [17331] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T13:03:06.461Z] [runtime-status] [17331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.543Z] [runtime-status] [17331] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T13:03:06.546Z] [runtime-status] [17331] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T13:03:06.547Z] [runtime-status] [17331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.550Z] [runtime-status] [17331] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.552Z] [runtime-status] [17331] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.552Z] [runtime-status] [17331] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T13:03:06.780Z] [runtime-status] [17325] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T13:03:06.784Z] [runtime-status] [17331] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T13:03:06.786Z] [runtime-status] [17331] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Running api in signature http"}}
[debug] [2022-10-09T13:03:06.792Z] [runtime-status] [17325] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Disabled runtime features: undefined"}}
[debug] [2022-10-09T13:03:06.795Z] [runtime-status] [17325] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.799Z] [runtime-status] [17325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.801Z] [runtime-status] [17325] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T13:03:06.804Z] [runtime-status] [17325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.818Z] [runtime-status] [17331] Attempting to listen to socketPath: /tmp/fire_emu_17331.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Attempting to listen to socketPath: /tmp/fire_emu_17331.sock"}}
[debug] [2022-10-09T13:03:06.824Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T13:03:06.825Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T13:03:06.843Z] [runtime-status] [17331] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T13:03:06.862Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2022-10-09T13:03:06.863Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2022-10-09T13:03:06.863Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:03:06.874Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T13:03:06.875Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2022-10-09T13:03:06.875Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:03:06.875Z] [worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: Assigning socketPath: /tmp/fire_emu_17339.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: Assigning socketPath: /tmp/fire_emu_17339.sock"}}
[debug] [2022-10-09T13:03:06.876Z] [worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: BUSY"}}
[debug] [2022-10-09T13:03:06.876Z] [runtime-status] [17331] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T13:03:06.882Z] [worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: IDLE"}}
[debug] [2022-10-09T13:03:06.885Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-09T13:03:06.932Z] [runtime-status] [17325] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T13:03:06.932Z] [runtime-status] [17325] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T13:03:06.932Z] [runtime-status] [17325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.943Z] [runtime-status] [17325] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.943Z] [runtime-status] [17325] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:06.943Z] [runtime-status] [17325] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T13:03:07.210Z] [runtime-status] [17325] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T13:03:07.231Z] [runtime-status] [17325] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Running api in signature http"}}
[debug] [2022-10-09T13:03:07.278Z] [runtime-status] [17325] Attempting to listen to socketPath: /tmp/fire_emu_17325.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Attempting to listen to socketPath: /tmp/fire_emu_17325.sock"}}
[debug] [2022-10-09T13:03:07.280Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T13:03:07.281Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T13:03:07.299Z] [runtime-status] [17325] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T13:03:07.322Z] [runtime-status] [17325] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17325] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T13:03:07.335Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2022-10-09T13:03:07.335Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2022-10-09T13:03:07.339Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:03:07.339Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:03:07.339Z] [worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: Assigning socketPath: /tmp/fire_emu_17331.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: Assigning socketPath: /tmp/fire_emu_17331.sock"}}
[debug] [2022-10-09T13:03:07.339Z] [worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: BUSY"}}
[debug] [2022-10-09T13:03:07.347Z] [runtime-status] [17331] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T13:03:07.351Z] [runtime-status] [17331] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Running api in signature http"}}
[debug] [2022-10-09T13:03:07.351Z] [runtime-status] [17331] Attempting to listen to socketPath: /tmp/fire_emu_17331.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Attempting to listen to socketPath: /tmp/fire_emu_17331.sock"}}
[debug] [2022-10-09T13:03:07.356Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T13:03:07.356Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T13:03:07.363Z] [worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: IDLE"}}
[debug] [2022-10-09T13:03:07.363Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-09T13:03:07.377Z] [runtime-status] [17331] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T13:03:07.404Z] [runtime-status] [17331] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17331] Ephemeral server survived."}}
[info] >  (node:17331) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:17331) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:17331) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16) {"user":"    at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:17331) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:17331) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:17331) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:17331) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:17331) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:17331) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-10-09T13:03:09.147Z] [runtime-status] [17339] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T13:03:09.150Z] [runtime-status] [17339] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Disabled runtime features: undefined"}}
[debug] [2022-10-09T13:03:09.161Z] [runtime-status] [17339] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:09.161Z] [runtime-status] [17339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:09.162Z] [runtime-status] [17339] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T13:03:09.162Z] [runtime-status] [17339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:09.245Z] [runtime-status] [17339] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T13:03:09.245Z] [runtime-status] [17339] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T13:03:09.247Z] [runtime-status] [17339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:09.249Z] [runtime-status] [17339] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:09.254Z] [runtime-status] [17339] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:03:09.255Z] [runtime-status] [17339] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T13:03:09.472Z] [runtime-status] [17339] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T13:03:09.473Z] [runtime-status] [17339] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Running api in signature http"}}
[debug] [2022-10-09T13:03:09.494Z] [runtime-status] [17339] Attempting to listen to socketPath: /tmp/fire_emu_17339.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Attempting to listen to socketPath: /tmp/fire_emu_17339.sock"}}
[debug] [2022-10-09T13:03:09.506Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T13:03:09.507Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T13:03:09.517Z] [runtime-status] [17339] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T13:03:09.552Z] [runtime-status] [17339] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [17339] Ephemeral server survived."}}
[info] >  (node:17339) UnhandledPromiseRejectionWarning: Error: Missing required param: amount. {"user":"(node:17339) UnhandledPromiseRejectionWarning: Error: Missing required param: amount.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:17339) UnhandledPromiseRejectionWarning: Error: Missing required param: amount."}}
[info] >      at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16) {"user":"    at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/Error.js:36:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/govind/Desktop/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:201:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:17339) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:17339) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:17339) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:17339) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:17339) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:17339) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2022-10-09T13:03:47.969Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: exited"}}
[debug] [2022-10-09T13:03:47.973Z] [worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a2c953f9-bb92-4a74-a0da-03013dcdd576]: FINISHED"}}
[debug] [2022-10-09T13:03:47.978Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2022-10-09T13:04:07.354Z] [worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: exited"}}
[debug] [2022-10-09T13:04:07.355Z] [worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d74ed44b-65b7-4f2b-947c-57716bd84ac9]: FINISHED"}}
[debug] [2022-10-09T13:04:07.355Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)"}}
[debug] [2022-10-09T13:04:09.525Z] [worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: exited"}}
[debug] [2022-10-09T13:04:09.525Z] [worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-73608d8e-a202-4c3a-8753-852140d51f69]: FINISHED"}}
[debug] [2022-10-09T13:04:09.526Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-09T13:17:15.714Z] File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-09T13:17:16.714Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-09T13:17:16.714Z] [worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: FINISHING"}}
[debug] [2022-10-09T13:17:16.715Z] Validating nodejs source
[debug] [2022-10-09T13:17:19.942Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^10.13.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-09T13:17:19.943Z] Building nodejs source
[debug] [2022-10-09T13:17:19.943Z] Analyzing nodejs backend spec
[debug] [2022-10-09T13:17:19.945Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-09T13:17:19.956Z] [worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: exited"}}
[debug] [2022-10-09T13:17:19.956Z] [worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b3ff0c12-a154-4498-99fa-9fc6551a8ecc]: FINISHED"}}
[debug] [2022-10-09T13:17:20.162Z] Serving at port 9005

[debug] [2022-10-09T13:17:20.185Z] Got response from /__/functions.yaml Failed to generate manifest from function source: SyntaxError: await is only valid in async function
[debug] [2022-10-09T13:17:20.216Z] Failed to parse functions.yaml incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:
     ... rom function source: SyntaxError: await is only valid in async f ... 
                                         ^ {"name":"YAMLException","reason":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line","mark":{"name":null,"buffer":"Failed to generate manifest from function source: SyntaxError: await is only valid in async function\n\u0000","position":61,"line":0,"column":61},"message":"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line at line 1, column 62:\n     ... rom function source: SyntaxError: await is only valid in async f ... \n                                         ^"}
[debug] [2022-10-09T13:17:20.254Z] shutdown requested via /__/quitquitquit

[debug] [2022-10-09T13:18:02.871Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-09T13:18:02.872Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-09T13:18:02.872Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:18:02.872Z] [worker-pool] Cleaned up workers for us-central1-api: 4 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 4 --> 0"}}
[debug] [2022-10-09T13:18:02.882Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T13:18:02.883Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T13:18:02.883Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:18:02.883Z] [worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: Assigning socketPath: /tmp/fire_emu_18551.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: Assigning socketPath: /tmp/fire_emu_18551.sock"}}
[debug] [2022-10-09T13:18:02.884Z] [worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: BUSY"}}
[debug] [2022-10-09T13:18:02.887Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-09T13:18:02.887Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-09T13:18:02.888Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:18:02.898Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T13:18:02.898Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T13:18:02.899Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:18:02.899Z] [worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: Assigning socketPath: /tmp/fire_emu_18553.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: Assigning socketPath: /tmp/fire_emu_18553.sock"}}
[debug] [2022-10-09T13:18:02.899Z] [worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: BUSY"}}
[debug] [2022-10-09T13:18:05.282Z] [runtime-status] [18551] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T13:18:05.287Z] [runtime-status] [18551] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Disabled runtime features: undefined"}}
[debug] [2022-10-09T13:18:05.293Z] [runtime-status] [18551] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.302Z] [runtime-status] [18551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.306Z] [runtime-status] [18551] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T13:18:05.310Z] [runtime-status] [18551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.395Z] [runtime-status] [18551] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T13:18:05.396Z] [runtime-status] [18551] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T13:18:05.404Z] [runtime-status] [18551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.408Z] [runtime-status] [18551] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.410Z] [runtime-status] [18551] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.414Z] [runtime-status] [18551] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /home/govind/Desktop/amazon-clone/functions/index.js:26
    const paymentIntent = await stripe.paymentIntents.create({
                          ^^^^^

SyntaxError: await is only valid in async function
    at wrapSafe (internal/modules/cjs/loader.js:1116:16)
    at Module._compile (internal/modules/cjs/loader.js:1164:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)
    at Module.load (internal/modules/cjs/loader.js:1049:32)
    at Function.Module._load (internal/modules/cjs/loader.js:937:14)
    at Module.require (internal/modules/cjs/loader.js:1089:19)
    at require (internal/modules/cjs/helpers.js:73:18)
    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)
    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"/home/govind/Desktop/amazon-clone/functions/index.js:26\n    const paymentIntent = await stripe.paymentIntents.create({\n                          ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1116:16)\n    at Module._compile (internal/modules/cjs/loader.js:1164:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)\n    at Module.load (internal/modules/cjs/loader.js:1049:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:937:14)\n    at Module.require (internal/modules/cjs/loader.js:1089:19)\n    at require (internal/modules/cjs/helpers.js:73:18)\n    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)\n    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{}}}
[debug] [2022-10-09T13:18:05.420Z] [runtime-status] [18551] SyntaxError: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18551] SyntaxError: await is only valid in async function"}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-09T13:18:05.450Z] [worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: exited"}}
[debug] [2022-10-09T13:18:05.450Z] [worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-65ab0bfb-7aba-47c2-ab5a-e506cf929da3]: FINISHED"}}
[debug] [2022-10-09T13:18:05.965Z] [runtime-status] [18553] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T13:18:05.968Z] [runtime-status] [18553] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Disabled runtime features: undefined"}}
[debug] [2022-10-09T13:18:05.972Z] [runtime-status] [18553] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.974Z] [runtime-status] [18553] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:05.975Z] [runtime-status] [18553] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T13:18:05.976Z] [runtime-status] [18553] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:06.046Z] [runtime-status] [18553] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T13:18:06.046Z] [runtime-status] [18553] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T13:18:06.048Z] [runtime-status] [18553] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:06.049Z] [runtime-status] [18553] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:06.050Z] [runtime-status] [18553] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:18:06.051Z] [runtime-status] [18553] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /home/govind/Desktop/amazon-clone/functions/index.js:26
    const paymentIntent = await stripe.paymentIntents.create({
                          ^^^^^

SyntaxError: await is only valid in async function
    at wrapSafe (internal/modules/cjs/loader.js:1116:16)
    at Module._compile (internal/modules/cjs/loader.js:1164:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)
    at Module.load (internal/modules/cjs/loader.js:1049:32)
    at Function.Module._load (internal/modules/cjs/loader.js:937:14)
    at Module.require (internal/modules/cjs/loader.js:1089:19)
    at require (internal/modules/cjs/helpers.js:73:18)
    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)
    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"/home/govind/Desktop/amazon-clone/functions/index.js:26\n    const paymentIntent = await stripe.paymentIntents.create({\n                          ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1116:16)\n    at Module._compile (internal/modules/cjs/loader.js:1164:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)\n    at Module.load (internal/modules/cjs/loader.js:1049:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:937:14)\n    at Module.require (internal/modules/cjs/loader.js:1089:19)\n    at require (internal/modules/cjs/helpers.js:73:18)\n    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)\n    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{}}}
[debug] [2022-10-09T13:18:06.056Z] [runtime-status] [18553] SyntaxError: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [18553] SyntaxError: await is only valid in async function"}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-09T13:18:06.070Z] [worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: exited"}}
[debug] [2022-10-09T13:18:06.070Z] [worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-bccfd55e-ece9-47f0-8439-43ea075b14e7]: FINISHED"}}
[debug] [2022-10-09T13:46:36.098Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-10-09T13:46:36.099Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-10-09T13:46:36.099Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:46:36.099Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-10-09T13:46:36.109Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T13:46:36.110Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T13:46:36.110Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:46:36.111Z] [worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: Assigning socketPath: /tmp/fire_emu_19171.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: Assigning socketPath: /tmp/fire_emu_19171.sock"}}
[debug] [2022-10-09T13:46:36.111Z] [worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: BUSY"}}
[debug] [2022-10-09T13:46:36.114Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2022-10-09T13:46:36.115Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2022-10-09T13:46:36.115Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T13:46:36.128Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T13:46:36.130Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T13:46:36.130Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T13:46:36.131Z] [worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: Assigning socketPath: /tmp/fire_emu_19173.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: Assigning socketPath: /tmp/fire_emu_19173.sock"}}
[debug] [2022-10-09T13:46:36.132Z] [worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: BUSY"}}
[debug] [2022-10-09T13:46:38.160Z] [runtime-status] [19173] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T13:46:38.163Z] [runtime-status] [19173] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Disabled runtime features: undefined"}}
[debug] [2022-10-09T13:46:38.166Z] [runtime-status] [19173] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.168Z] [runtime-status] [19173] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.173Z] [runtime-status] [19173] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T13:46:38.181Z] [runtime-status] [19173] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.288Z] [runtime-status] [19173] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T13:46:38.292Z] [runtime-status] [19173] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T13:46:38.309Z] [runtime-status] [19173] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.327Z] [runtime-status] [19173] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.338Z] [runtime-status] [19173] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.341Z] [runtime-status] [19173] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /home/govind/Desktop/amazon-clone/functions/index.js:26
    const paymentIntent = await stripe.paymentIntents.create({
                          ^^^^^

SyntaxError: await is only valid in async function
    at wrapSafe (internal/modules/cjs/loader.js:1116:16)
    at Module._compile (internal/modules/cjs/loader.js:1164:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)
    at Module.load (internal/modules/cjs/loader.js:1049:32)
    at Function.Module._load (internal/modules/cjs/loader.js:937:14)
    at Module.require (internal/modules/cjs/loader.js:1089:19)
    at require (internal/modules/cjs/helpers.js:73:18)
    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)
    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"/home/govind/Desktop/amazon-clone/functions/index.js:26\n    const paymentIntent = await stripe.paymentIntents.create({\n                          ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1116:16)\n    at Module._compile (internal/modules/cjs/loader.js:1164:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)\n    at Module.load (internal/modules/cjs/loader.js:1049:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:937:14)\n    at Module.require (internal/modules/cjs/loader.js:1089:19)\n    at require (internal/modules/cjs/helpers.js:73:18)\n    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)\n    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{}}}
[debug] [2022-10-09T13:46:38.397Z] [runtime-status] [19173] SyntaxError: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19173] SyntaxError: await is only valid in async function"}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-09T13:46:38.428Z] [worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: exited"}}
[debug] [2022-10-09T13:46:38.428Z] [worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-88338add-65d9-4064-9611-c23b7d95e938]: FINISHED"}}
[debug] [2022-10-09T13:46:38.436Z] [runtime-status] [19171] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T13:46:38.439Z] [runtime-status] [19171] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Disabled runtime features: undefined"}}
[debug] [2022-10-09T13:46:38.442Z] [runtime-status] [19171] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.444Z] [runtime-status] [19171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.445Z] [runtime-status] [19171] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T13:46:38.446Z] [runtime-status] [19171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.492Z] [runtime-status] [19171] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T13:46:38.493Z] [runtime-status] [19171] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T13:46:38.494Z] [runtime-status] [19171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.496Z] [runtime-status] [19171] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.497Z] [runtime-status] [19171] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T13:46:38.498Z] [runtime-status] [19171] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /home/govind/Desktop/amazon-clone/functions/index.js:26
    const paymentIntent = await stripe.paymentIntents.create({
                          ^^^^^

SyntaxError: await is only valid in async function
    at wrapSafe (internal/modules/cjs/loader.js:1116:16)
    at Module._compile (internal/modules/cjs/loader.js:1164:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)
    at Module.load (internal/modules/cjs/loader.js:1049:32)
    at Function.Module._load (internal/modules/cjs/loader.js:937:14)
    at Module.require (internal/modules/cjs/loader.js:1089:19)
    at require (internal/modules/cjs/helpers.js:73:18)
    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)
    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"/home/govind/Desktop/amazon-clone/functions/index.js:26\n    const paymentIntent = await stripe.paymentIntents.create({\n                          ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1116:16)\n    at Module._compile (internal/modules/cjs/loader.js:1164:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)\n    at Module.load (internal/modules/cjs/loader.js:1049:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:937:14)\n    at Module.require (internal/modules/cjs/loader.js:1089:19)\n    at require (internal/modules/cjs/helpers.js:73:18)\n    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)\n    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{}}}
[debug] [2022-10-09T13:46:38.503Z] [runtime-status] [19171] SyntaxError: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [19171] SyntaxError: await is only valid in async function"}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-09T13:46:38.514Z] [worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: exited"}}
[debug] [2022-10-09T13:46:38.514Z] [worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-34d46d01-71c1-424f-827c-251f0f138e02]: FINISHED"}}
[debug] [2022-10-09T16:33:21.682Z] [work-queue] {"queueLength":1,"workRunningCount":4}
[debug] [2022-10-09T16:33:21.682Z] [work-queue] {"queueLength":0,"workRunningCount":5}
[debug] [2022-10-09T16:33:21.683Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:33:21.683Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-10-09T16:33:21.715Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:33:21.715Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T16:33:21.715Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:33:21.715Z] [worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: Assigning socketPath: /tmp/fire_emu_21687.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: Assigning socketPath: /tmp/fire_emu_21687.sock"}}
[debug] [2022-10-09T16:33:21.716Z] [worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: BUSY"}}
[debug] [2022-10-09T16:33:24.447Z] [runtime-status] [21687] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:33:24.449Z] [runtime-status] [21687] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:33:24.452Z] [runtime-status] [21687] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:33:24.454Z] [runtime-status] [21687] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:33:24.455Z] [runtime-status] [21687] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:33:24.456Z] [runtime-status] [21687] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:33:24.500Z] [runtime-status] [21687] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:33:24.501Z] [runtime-status] [21687] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:33:24.502Z] [runtime-status] [21687] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:33:24.504Z] [runtime-status] [21687] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:33:24.505Z] [runtime-status] [21687] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:33:24.505Z] [runtime-status] [21687] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /home/govind/Desktop/amazon-clone/functions/index.js:26
    const paymentIntent = await stripe.paymentIntents.create({
                          ^^^^^

SyntaxError: await is only valid in async function
    at wrapSafe (internal/modules/cjs/loader.js:1116:16)
    at Module._compile (internal/modules/cjs/loader.js:1164:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)
    at Module.load (internal/modules/cjs/loader.js:1049:32)
    at Function.Module._load (internal/modules/cjs/loader.js:937:14)
    at Module.require (internal/modules/cjs/loader.js:1089:19)
    at require (internal/modules/cjs/helpers.js:73:18)
    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)
    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"/home/govind/Desktop/amazon-clone/functions/index.js:26\n    const paymentIntent = await stripe.paymentIntents.create({\n                          ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1116:16)\n    at Module._compile (internal/modules/cjs/loader.js:1164:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)\n    at Module.load (internal/modules/cjs/loader.js:1049:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:937:14)\n    at Module.require (internal/modules/cjs/loader.js:1089:19)\n    at require (internal/modules/cjs/helpers.js:73:18)\n    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)\n    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{}}}
[debug] [2022-10-09T16:33:24.510Z] [runtime-status] [21687] SyntaxError: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21687] SyntaxError: await is only valid in async function"}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-09T16:33:24.520Z] [worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: exited"}}
[debug] [2022-10-09T16:33:24.520Z] [worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-699fa421-46c7-4906-b446-97b4622dc538]: FINISHED"}}
[debug] [2022-10-09T16:34:01.084Z] [work-queue] {"queueLength":1,"workRunningCount":5}
[debug] [2022-10-09T16:34:01.084Z] [work-queue] {"queueLength":0,"workRunningCount":6}
[debug] [2022-10-09T16:34:01.085Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:34:01.085Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-10-09T16:34:01.102Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:34:01.102Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T16:34:01.103Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:34:01.103Z] [worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: Assigning socketPath: /tmp/fire_emu_21832.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: Assigning socketPath: /tmp/fire_emu_21832.sock"}}
[debug] [2022-10-09T16:34:01.124Z] [worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: BUSY"}}
[debug] [2022-10-09T16:34:01.128Z] [work-queue] {"queueLength":1,"workRunningCount":6}
[debug] [2022-10-09T16:34:01.129Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2022-10-09T16:34:01.129Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:34:01.235Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:34:01.267Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T16:34:01.273Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:34:01.281Z] [worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: Assigning socketPath: /tmp/fire_emu_21834.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: Assigning socketPath: /tmp/fire_emu_21834.sock"}}
[debug] [2022-10-09T16:34:01.286Z] [worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: BUSY"}}
[debug] [2022-10-09T16:34:02.989Z] [runtime-status] [21832] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:34:02.992Z] [runtime-status] [21832] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:34:02.995Z] [runtime-status] [21832] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:02.997Z] [runtime-status] [21832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:02.998Z] [runtime-status] [21832] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:34:02.999Z] [runtime-status] [21832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.055Z] [runtime-status] [21832] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:34:03.055Z] [runtime-status] [21832] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:34:03.056Z] [runtime-status] [21832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.059Z] [runtime-status] [21832] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.060Z] [runtime-status] [21832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.060Z] [runtime-status] [21832] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /home/govind/Desktop/amazon-clone/functions/index.js:26
    const paymentIntent = await stripe.paymentIntents.create({
                          ^^^^^

SyntaxError: await is only valid in async function
    at wrapSafe (internal/modules/cjs/loader.js:1116:16)
    at Module._compile (internal/modules/cjs/loader.js:1164:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)
    at Module.load (internal/modules/cjs/loader.js:1049:32)
    at Function.Module._load (internal/modules/cjs/loader.js:937:14)
    at Module.require (internal/modules/cjs/loader.js:1089:19)
    at require (internal/modules/cjs/helpers.js:73:18)
    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)
    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"/home/govind/Desktop/amazon-clone/functions/index.js:26\n    const paymentIntent = await stripe.paymentIntents.create({\n                          ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1116:16)\n    at Module._compile (internal/modules/cjs/loader.js:1164:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)\n    at Module.load (internal/modules/cjs/loader.js:1049:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:937:14)\n    at Module.require (internal/modules/cjs/loader.js:1089:19)\n    at require (internal/modules/cjs/helpers.js:73:18)\n    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)\n    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{}}}
[debug] [2022-10-09T16:34:03.066Z] [runtime-status] [21832] SyntaxError: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21832] SyntaxError: await is only valid in async function"}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-09T16:34:03.090Z] [worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: exited"}}
[debug] [2022-10-09T16:34:03.090Z] [worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-0b4d4bfa-aa14-4b1a-b57e-9a397a251625]: FINISHED"}}
[debug] [2022-10-09T16:34:03.883Z] [runtime-status] [21834] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:34:03.885Z] [runtime-status] [21834] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:34:03.889Z] [runtime-status] [21834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.891Z] [runtime-status] [21834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.892Z] [runtime-status] [21834] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:34:03.893Z] [runtime-status] [21834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.953Z] [runtime-status] [21834] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:34:03.954Z] [runtime-status] [21834] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:34:03.956Z] [runtime-status] [21834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.958Z] [runtime-status] [21834] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.959Z] [runtime-status] [21834] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:34:03.959Z] [runtime-status] [21834] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[warn] ⚠  /home/govind/Desktop/amazon-clone/functions/index.js:26
    const paymentIntent = await stripe.paymentIntents.create({
                          ^^^^^

SyntaxError: await is only valid in async function
    at wrapSafe (internal/modules/cjs/loader.js:1116:16)
    at Module._compile (internal/modules/cjs/loader.js:1164:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)
    at Module.load (internal/modules/cjs/loader.js:1049:32)
    at Function.Module._load (internal/modules/cjs/loader.js:937:14)
    at Module.require (internal/modules/cjs/loader.js:1089:19)
    at require (internal/modules/cjs/helpers.js:73:18)
    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)
    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)
    at processTicksAndRejections (internal/process/task_queues.js:97:5) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"/home/govind/Desktop/amazon-clone/functions/index.js:26\n    const paymentIntent = await stripe.paymentIntents.create({\n                          ^^^^^\n\nSyntaxError: await is only valid in async function\n    at wrapSafe (internal/modules/cjs/loader.js:1116:16)\n    at Module._compile (internal/modules/cjs/loader.js:1164:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1220:10)\n    at Module.load (internal/modules/cjs/loader.js:1049:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:937:14)\n    at Module.require (internal/modules/cjs/loader.js:1089:19)\n    at require (internal/modules/cjs/helpers.js:73:18)\n    at loadTriggers (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:685:29)\n    at handleMessage (/home/govind/.nvm/versions/node/v14.4.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:721:36)\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[warn] ⚠  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{}}}
[debug] [2022-10-09T16:34:03.979Z] [runtime-status] [21834] SyntaxError: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [21834] SyntaxError: await is only valid in async function"}}
[warn] ⚠  functions: Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Failed to initialize and load triggers. This shouldn't happen: await is only valid in async function"}}
[warn] ⚠  Your function was killed because it raised an unhandled error. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function was killed because it raised an unhandled error."}}
[debug] [2022-10-09T16:34:03.994Z] [worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: exited"}}
[debug] [2022-10-09T16:34:03.995Z] [worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-add04647-0394-4e05-b9b7-47acbcceef59]: FINISHED"}}
[debug] [2022-10-09T16:37:09.687Z] File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-09T16:37:10.690Z] Validating nodejs source
[debug] [2022-10-09T16:37:24.786Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^10.13.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-09T16:37:24.787Z] Building nodejs source
[debug] [2022-10-09T16:37:24.787Z] Analyzing nodejs backend spec
[debug] [2022-10-09T16:37:24.788Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-09T16:37:24.802Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T16:37:24.802Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T16:37:24.802Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:37:24.802Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-10-09T16:37:24.811Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:37:24.811Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T16:37:24.811Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:37:24.812Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:37:24.812Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY"}}
[debug] [2022-10-09T16:37:25.063Z] Serving at port 9005

[debug] [2022-10-09T16:37:25.199Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-09T16:37:25.230Z] shutdown requested via /__/quitquitquit

[debug] [2022-10-09T16:37:26.263Z] [runtime-status] [22051] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:37:26.269Z] [runtime-status] [22051] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:37:26.274Z] [runtime-status] [22051] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:37:26.274Z] [runtime-status] [22051] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:37:26.274Z] [runtime-status] [22051] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:37:26.274Z] [runtime-status] [22051] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:37:26.340Z] [runtime-status] [22051] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:37:26.341Z] [runtime-status] [22051] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:37:26.342Z] [runtime-status] [22051] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:37:26.344Z] [runtime-status] [22051] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:37:26.346Z] [runtime-status] [22051] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:37:26.346Z] [runtime-status] [22051] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T16:37:26.551Z] [runtime-status] [22051] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:37:26.552Z] [runtime-status] [22051] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Running api in signature http"}}
[debug] [2022-10-09T16:37:26.586Z] [runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:37:26.618Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:37:26.627Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:37:26.668Z] [runtime-status] [22051] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T16:37:26.675Z] [runtime-status] [22051] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:37:26.697Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE"}}
[debug] [2022-10-09T16:37:26.701Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2022-10-09T16:37:26.713Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T16:37:26.716Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T16:37:26.719Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:37:26.721Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:37:26.724Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:37:26.727Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY"}}
[debug] [2022-10-09T16:37:26.740Z] [runtime-status] [22051] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:37:26.742Z] [runtime-status] [22051] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Running api in signature http"}}
[debug] [2022-10-09T16:37:26.742Z] [runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:37:26.744Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:37:26.744Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:37:26.787Z] [runtime-status] [22051] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T16:37:26.800Z] [runtime-status] [22051] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server survived."}}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:37:26.816Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE"}}
[debug] [2022-10-09T16:37:26.820Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2022-10-09T16:38:42.127Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T16:38:42.127Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T16:38:42.127Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:38:42.127Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:38:42.127Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:38:42.128Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY"}}
[debug] [2022-10-09T16:38:42.130Z] [runtime-status] [22051] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:38:42.131Z] [runtime-status] [22051] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Running api in signature http"}}
[debug] [2022-10-09T16:38:42.134Z] [runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:38:42.141Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:38:42.142Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:38:42.146Z] [runtime-status] [22051] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T16:38:42.148Z] [runtime-status] [22051] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:38:42.150Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE"}}
[debug] [2022-10-09T16:38:42.150Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2022-10-09T16:38:42.152Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T16:38:42.152Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T16:38:42.152Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:38:42.152Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:38:42.153Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: Assigning socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:38:42.153Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: BUSY"}}
[debug] [2022-10-09T16:38:42.155Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2022-10-09T16:38:42.156Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T16:38:42.156Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:38:42.167Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:38:42.167Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T16:38:42.167Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:38:42.168Z] [worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: Assigning socketPath: /tmp/fire_emu_22139.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: Assigning socketPath: /tmp/fire_emu_22139.sock"}}
[debug] [2022-10-09T16:38:42.168Z] [worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: BUSY"}}
[debug] [2022-10-09T16:38:42.170Z] [runtime-status] [22051] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:38:42.171Z] [runtime-status] [22051] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Running api in signature http"}}
[debug] [2022-10-09T16:38:42.172Z] [runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Attempting to listen to socketPath: /tmp/fire_emu_22051.sock"}}
[debug] [2022-10-09T16:38:42.181Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:38:42.181Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:38:42.187Z] [runtime-status] [22051] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T16:38:42.190Z] [runtime-status] [22051] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22051] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:38:42.196Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: IDLE"}}
[debug] [2022-10-09T16:38:42.197Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-09T16:38:43.797Z] [runtime-status] [22139] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:38:43.800Z] [runtime-status] [22139] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:38:43.802Z] [runtime-status] [22139] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:38:43.804Z] [runtime-status] [22139] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:38:43.805Z] [runtime-status] [22139] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:38:43.806Z] [runtime-status] [22139] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:38:43.852Z] [runtime-status] [22139] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:38:43.853Z] [runtime-status] [22139] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:38:43.855Z] [runtime-status] [22139] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:38:43.855Z] [runtime-status] [22139] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:38:43.856Z] [runtime-status] [22139] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:38:43.857Z] [runtime-status] [22139] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T16:38:43.994Z] [runtime-status] [22139] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:38:43.996Z] [runtime-status] [22139] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Running api in signature http"}}
[debug] [2022-10-09T16:38:44.040Z] [runtime-status] [22139] Attempting to listen to socketPath: /tmp/fire_emu_22139.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Attempting to listen to socketPath: /tmp/fire_emu_22139.sock"}}
[debug] [2022-10-09T16:38:44.084Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:38:44.090Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:38:44.131Z] [runtime-status] [22139] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Ephemeral server handling POST request"}}
[debug] [2022-10-09T16:38:44.142Z] [runtime-status] [22139] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22139] Ephemeral server survived."}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:38:44.386Z] [worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: IDLE"}}
[debug] [2022-10-09T16:38:44.386Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2022-10-09T16:40:06.089Z] File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-09T16:40:07.090Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-09T16:40:07.090Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: FINISHING"}}
[debug] [2022-10-09T16:40:07.090Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-09T16:40:07.091Z] [worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: FINISHING"}}
[debug] [2022-10-09T16:40:07.092Z] Validating nodejs source
[debug] [2022-10-09T16:40:19.661Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^10.13.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-09T16:40:19.662Z] Building nodejs source
[debug] [2022-10-09T16:40:19.662Z] Analyzing nodejs backend spec
[debug] [2022-10-09T16:40:19.663Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-09T16:40:19.673Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: exited"}}
[debug] [2022-10-09T16:40:19.673Z] [worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e8c4b2f3-6084-4686-b94c-60c3f5cc8cc8]: FINISHED"}}
[debug] [2022-10-09T16:40:19.674Z] [worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: exited"}}
[debug] [2022-10-09T16:40:19.674Z] [worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c471f3a9-cf7f-4b81-b3ea-010ea58948f5]: FINISHED"}}
[debug] [2022-10-09T16:40:19.956Z] Serving at port 9005

[debug] [2022-10-09T16:40:20.162Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-09T16:40:20.169Z] shutdown requested via /__/quitquitquit

[debug] [2022-10-09T16:40:45.757Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T16:40:45.757Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T16:40:45.757Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:40:45.757Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-10-09T16:40:45.768Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:40:45.768Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T16:40:45.768Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:40:45.768Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T16:40:45.769Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY"}}
[debug] [2022-10-09T16:40:45.772Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2022-10-09T16:40:45.774Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T16:40:45.775Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:40:45.790Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:40:45.791Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T16:40:45.791Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:40:45.791Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: Assigning socketPath: /tmp/fire_emu_22289.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: Assigning socketPath: /tmp/fire_emu_22289.sock"}}
[debug] [2022-10-09T16:40:45.791Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: BUSY"}}
[debug] [2022-10-09T16:40:47.453Z] [runtime-status] [22283] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:40:47.458Z] [runtime-status] [22283] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:40:47.461Z] [runtime-status] [22283] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:47.466Z] [runtime-status] [22283] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:47.467Z] [runtime-status] [22283] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:40:47.467Z] [runtime-status] [22283] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:47.539Z] [runtime-status] [22283] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:40:47.544Z] [runtime-status] [22283] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:40:47.544Z] [runtime-status] [22283] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:47.545Z] [runtime-status] [22283] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:47.545Z] [runtime-status] [22283] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:47.545Z] [runtime-status] [22283] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T16:40:47.696Z] [runtime-status] [22283] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:40:47.710Z] [runtime-status] [22283] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Running api in signature http"}}
[debug] [2022-10-09T16:40:47.729Z] [runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T16:40:47.739Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:40:47.739Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:40:47.752Z] [runtime-status] [22283] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T16:40:47.774Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2022-10-09T16:40:47.775Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2022-10-09T16:40:47.775Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:40:47.808Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T16:40:47.809Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2022-10-09T16:40:47.809Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:40:47.809Z] [worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: Assigning socketPath: /tmp/fire_emu_22298.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: Assigning socketPath: /tmp/fire_emu_22298.sock"}}
[debug] [2022-10-09T16:40:47.809Z] [worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: BUSY"}}
[debug] [2022-10-09T16:40:47.811Z] [runtime-status] [22283] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:40:47.817Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE"}}
[debug] [2022-10-09T16:40:47.817Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T16:40:48.458Z] [runtime-status] [22289] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:40:48.461Z] [runtime-status] [22289] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:40:48.463Z] [runtime-status] [22289] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:48.465Z] [runtime-status] [22289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:48.465Z] [runtime-status] [22289] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:40:48.467Z] [runtime-status] [22289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:48.517Z] [runtime-status] [22289] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:40:48.517Z] [runtime-status] [22289] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:40:48.518Z] [runtime-status] [22289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:48.520Z] [runtime-status] [22289] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:48.521Z] [runtime-status] [22289] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:48.522Z] [runtime-status] [22289] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T16:40:48.668Z] [runtime-status] [22289] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:40:48.685Z] [runtime-status] [22289] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Running api in signature http"}}
[debug] [2022-10-09T16:40:48.700Z] [runtime-status] [22289] Attempting to listen to socketPath: /tmp/fire_emu_22289.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Attempting to listen to socketPath: /tmp/fire_emu_22289.sock"}}
[debug] [2022-10-09T16:40:48.711Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:40:48.711Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:40:48.878Z] [runtime-status] [22289] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T16:40:48.950Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2022-10-09T16:40:48.950Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2022-10-09T16:40:48.950Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T16:40:48.950Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T16:40:48.950Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T16:40:48.951Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY"}}
[debug] [2022-10-09T16:40:48.958Z] [runtime-status] [22283] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:40:48.962Z] [runtime-status] [22283] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Running api in signature http"}}
[debug] [2022-10-09T16:40:48.962Z] [runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T16:40:48.964Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:40:48.964Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:40:48.973Z] [runtime-status] [22283] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server handling POST request"}}
[debug] [2022-10-09T16:40:48.974Z] [runtime-status] [22283] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server survived."}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:40:49.028Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE"}}
[debug] [2022-10-09T16:40:49.028Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T16:40:49.029Z] [runtime-status] [22289] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:40:49.049Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: IDLE"}}
[debug] [2022-10-09T16:40:49.049Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T16:40:50.009Z] [runtime-status] [22298] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T16:40:50.011Z] [runtime-status] [22298] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Disabled runtime features: undefined"}}
[debug] [2022-10-09T16:40:50.013Z] [runtime-status] [22298] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:50.015Z] [runtime-status] [22298] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:50.016Z] [runtime-status] [22298] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T16:40:50.017Z] [runtime-status] [22298] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:50.073Z] [runtime-status] [22298] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T16:40:50.073Z] [runtime-status] [22298] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T16:40:50.074Z] [runtime-status] [22298] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:50.076Z] [runtime-status] [22298] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:50.077Z] [runtime-status] [22298] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T16:40:50.078Z] [runtime-status] [22298] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T16:40:50.226Z] [runtime-status] [22298] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T16:40:50.227Z] [runtime-status] [22298] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Running api in signature http"}}
[debug] [2022-10-09T16:40:50.249Z] [runtime-status] [22298] Attempting to listen to socketPath: /tmp/fire_emu_22298.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Attempting to listen to socketPath: /tmp/fire_emu_22298.sock"}}
[debug] [2022-10-09T16:40:50.254Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T16:40:50.254Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T16:40:50.262Z] [runtime-status] [22298] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T16:40:50.271Z] [runtime-status] [22298] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22298] Ephemeral server survived."}}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T16:40:50.306Z] [worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: IDLE"}}
[debug] [2022-10-09T16:40:50.306Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2022-10-09T17:13:02.116Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T17:13:02.116Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T17:13:02.117Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:13:02.117Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:13:02.117Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T17:13:02.117Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY"}}
[debug] [2022-10-09T17:13:02.119Z] [runtime-status] [22283] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:13:02.120Z] [runtime-status] [22283] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Running api in signature http"}}
[debug] [2022-10-09T17:13:02.120Z] [runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T17:13:02.197Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:13:02.202Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T17:13:02.248Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2022-10-09T17:13:02.250Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T17:13:02.252Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:13:02.255Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:13:02.256Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: Assigning socketPath: /tmp/fire_emu_22289.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: Assigning socketPath: /tmp/fire_emu_22289.sock"}}
[debug] [2022-10-09T17:13:02.257Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: BUSY"}}
[debug] [2022-10-09T17:13:02.265Z] [runtime-status] [22283] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T17:13:02.267Z] [runtime-status] [22283] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server survived."}}
[debug] [2022-10-09T17:13:02.278Z] [runtime-status] [22289] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:13:02.290Z] [runtime-status] [22289] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Running api in signature http"}}
[debug] [2022-10-09T17:13:02.293Z] [runtime-status] [22289] Attempting to listen to socketPath: /tmp/fire_emu_22289.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Attempting to listen to socketPath: /tmp/fire_emu_22289.sock"}}
[debug] [2022-10-09T17:13:02.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:13:02.318Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:13:02.320Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE"}}
[debug] [2022-10-09T17:13:02.320Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T17:13:02.321Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2022-10-09T17:13:02.321Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T17:13:02.321Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:13:02.321Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:13:02.322Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T17:13:02.322Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY"}}
[debug] [2022-10-09T17:13:02.327Z] [runtime-status] [22283] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:13:02.329Z] [runtime-status] [22283] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Running api in signature http"}}
[debug] [2022-10-09T17:13:02.329Z] [runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T17:13:02.331Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:13:02.331Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T17:13:02.339Z] [runtime-status] [22283] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server handling POST request"}}
[debug] [2022-10-09T17:13:02.339Z] [runtime-status] [22283] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:13:02.340Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE"}}
[debug] [2022-10-09T17:13:02.340Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-09T17:13:02.370Z] [runtime-status] [22289] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T17:13:02.372Z] [runtime-status] [22289] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22289] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:13:02.374Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: IDLE"}}
[debug] [2022-10-09T17:13:02.375Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[debug] [2022-10-09T17:13:02.378Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T17:13:02.378Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T17:13:02.378Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:13:02.378Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:13:02.378Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: Assigning socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T17:13:02.378Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: BUSY"}}
[debug] [2022-10-09T17:13:02.381Z] [runtime-status] [22283] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:13:02.387Z] [runtime-status] [22283] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Running api in signature http"}}
[debug] [2022-10-09T17:13:02.388Z] [runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Attempting to listen to socketPath: /tmp/fire_emu_22283.sock"}}
[debug] [2022-10-09T17:13:02.393Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:13:02.393Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T17:13:02.401Z] [runtime-status] [22283] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server handling POST request"}}
[debug] [2022-10-09T17:13:02.401Z] [runtime-status] [22283] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [22283] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:13:02.402Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: IDLE"}}
[debug] [2022-10-09T17:13:02.402Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-09T17:41:51.746Z] File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/govind/Desktop/amazon-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-09T17:41:52.747Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-09T17:41:52.747Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: FINISHING"}}
[debug] [2022-10-09T17:41:52.747Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-09T17:41:52.747Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: FINISHING"}}
[debug] [2022-10-09T17:41:52.747Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-10-09T17:41:52.748Z] [worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: FINISHING"}}
[debug] [2022-10-09T17:41:52.757Z] Validating nodejs source
[debug] [2022-10-09T17:42:17.646Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^10.13.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-09T17:42:17.649Z] Building nodejs source
[debug] [2022-10-09T17:42:17.650Z] Analyzing nodejs backend spec
[debug] [2022-10-09T17:42:17.659Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-09T17:42:17.757Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: exited"}}
[debug] [2022-10-09T17:42:17.761Z] [worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-eeb169ad-674f-4fef-be47-19280624f2ab]: FINISHED"}}
[debug] [2022-10-09T17:42:17.763Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: exited"}}
[debug] [2022-10-09T17:42:17.764Z] [worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-c7787a20-f9ef-4330-85b7-8f146623a32b]: FINISHED"}}
[debug] [2022-10-09T17:42:17.766Z] [worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: exited"}}
[debug] [2022-10-09T17:42:17.767Z] [worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e3edabf2-bee4-4490-9a91-40247c4bd628]: FINISHED"}}
[debug] [2022-10-09T17:42:17.782Z] [work-queue] {"queueLength":1,"workRunningCount":7}
[debug] [2022-10-09T17:42:17.784Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T17:42:17.785Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:42:17.786Z] [worker-pool] Cleaned up workers for us-central1-api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 3 --> 0"}}
[debug] [2022-10-09T17:42:17.829Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T17:42:17.833Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-10-09T17:42:17.834Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:42:17.836Z] [worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: Assigning socketPath: /tmp/fire_emu_24637.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: Assigning socketPath: /tmp/fire_emu_24637.sock"}}
[debug] [2022-10-09T17:42:17.838Z] [worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: BUSY"}}
[debug] [2022-10-09T17:42:17.848Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2022-10-09T17:42:17.849Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T17:42:17.850Z] Accepted request OPTIONS /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:42:17.886Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T17:42:17.886Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-10-09T17:42:17.886Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:42:17.886Z] [worker-us-central1-api-848e52af-8633-4131-b926-ac108f6588f4]: Assigning socketPath: /tmp/fire_emu_24644.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-848e52af-8633-4131-b926-ac108f6588f4]: Assigning socketPath: /tmp/fire_emu_24644.sock"}}
[debug] [2022-10-09T17:42:17.886Z] [worker-us-central1-api-848e52af-8633-4131-b926-ac108f6588f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-848e52af-8633-4131-b926-ac108f6588f4]: BUSY"}}
[debug] [2022-10-09T17:42:20.270Z] Serving at port 9005

[debug] [2022-10-09T17:42:23.762Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-09T17:42:23.789Z] shutdown requested via /__/quitquitquit

[debug] [2022-10-09T17:42:34.804Z] [runtime-status] [24637] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T17:42:34.807Z] [runtime-status] [24644] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T17:42:34.807Z] [runtime-status] [24637] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Disabled runtime features: undefined"}}
[debug] [2022-10-09T17:42:34.813Z] [runtime-status] [24644] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Disabled runtime features: undefined"}}
[debug] [2022-10-09T17:42:34.818Z] [runtime-status] [24637] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.818Z] [runtime-status] [24644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.819Z] [runtime-status] [24644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.821Z] [runtime-status] [24637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.827Z] [runtime-status] [24637] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T17:42:34.828Z] [runtime-status] [24637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.828Z] [runtime-status] [24644] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T17:42:34.829Z] [runtime-status] [24644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.874Z] [runtime-status] [24637] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T17:42:34.875Z] [runtime-status] [24637] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T17:42:34.876Z] [runtime-status] [24637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.877Z] [runtime-status] [24637] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.878Z] [runtime-status] [24637] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.879Z] [runtime-status] [24637] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T17:42:34.907Z] [runtime-status] [24644] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T17:42:34.908Z] [runtime-status] [24644] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T17:42:34.908Z] [runtime-status] [24644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.910Z] [runtime-status] [24644] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.911Z] [runtime-status] [24644] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:34.911Z] [runtime-status] [24644] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T17:42:35.042Z] [runtime-status] [24637] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:42:35.048Z] [runtime-status] [24637] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Running api in signature http"}}
[debug] [2022-10-09T17:42:35.123Z] [runtime-status] [24644] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:42:35.124Z] [runtime-status] [24644] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Running api in signature http"}}
[debug] [2022-10-09T17:42:35.215Z] [runtime-status] [24644] Attempting to listen to socketPath: /tmp/fire_emu_24644.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Attempting to listen to socketPath: /tmp/fire_emu_24644.sock"}}
[debug] [2022-10-09T17:42:35.220Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:42:35.221Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T17:42:35.228Z] [runtime-status] [24644] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T17:42:35.236Z] [work-queue] {"queueLength":1,"workRunningCount":9}
[debug] [2022-10-09T17:42:35.236Z] [work-queue] {"queueLength":0,"workRunningCount":10}
[debug] [2022-10-09T17:42:35.236Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:42:35.246Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-10-09T17:42:35.247Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2022-10-09T17:42:35.247Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:42:35.247Z] [worker-us-central1-api-5a08f6bd-d1aa-46f1-8853-c28dde67527f]: Assigning socketPath: /tmp/fire_emu_24706.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5a08f6bd-d1aa-46f1-8853-c28dde67527f]: Assigning socketPath: /tmp/fire_emu_24706.sock"}}
[debug] [2022-10-09T17:42:35.247Z] [worker-us-central1-api-5a08f6bd-d1aa-46f1-8853-c28dde67527f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5a08f6bd-d1aa-46f1-8853-c28dde67527f]: BUSY"}}
[debug] [2022-10-09T17:42:35.247Z] [runtime-status] [24644] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24644] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:42:35.248Z] [worker-us-central1-api-848e52af-8633-4131-b926-ac108f6588f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-848e52af-8633-4131-b926-ac108f6588f4]: IDLE"}}
[debug] [2022-10-09T17:42:35.249Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T17:42:35.251Z] [runtime-status] [24637] Attempting to listen to socketPath: /tmp/fire_emu_24637.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Attempting to listen to socketPath: /tmp/fire_emu_24637.sock"}}
[debug] [2022-10-09T17:42:35.314Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:42:35.314Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T17:42:35.323Z] [runtime-status] [24637] Ephemeral server handling OPTIONS request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Ephemeral server handling OPTIONS request"}}
[debug] [2022-10-09T17:42:35.333Z] [runtime-status] [24637] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:42:35.349Z] [worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: IDLE"}}
[debug] [2022-10-09T17:42:35.353Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[debug] [2022-10-09T17:42:35.369Z] [work-queue] {"queueLength":1,"workRunningCount":8}
[debug] [2022-10-09T17:42:35.374Z] [work-queue] {"queueLength":0,"workRunningCount":9}
[debug] [2022-10-09T17:42:35.377Z] Accepted request POST /clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} --> us-central1-api
[debug] [2022-10-09T17:42:35.382Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-10-09T17:42:35.395Z] [worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: Assigning socketPath: /tmp/fire_emu_24637.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: Assigning socketPath: /tmp/fire_emu_24637.sock"}}
[debug] [2022-10-09T17:42:35.403Z] [worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: BUSY"}}
[debug] [2022-10-09T17:42:35.407Z] [runtime-status] [24637] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:42:35.408Z] [runtime-status] [24637] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Running api in signature http"}}
[debug] [2022-10-09T17:42:35.408Z] [runtime-status] [24637] Attempting to listen to socketPath: /tmp/fire_emu_24637.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Attempting to listen to socketPath: /tmp/fire_emu_24637.sock"}}
[debug] [2022-10-09T17:42:35.409Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:42:35.410Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T17:42:35.418Z] [runtime-status] [24637] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Ephemeral server handling POST request"}}
[debug] [2022-10-09T17:42:35.418Z] [runtime-status] [24637] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24637] Ephemeral server survived."}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:42:35.430Z] [worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-aa262f1d-a944-41f7-aa15-5ddd4791b643]: IDLE"}}
[debug] [2022-10-09T17:42:35.430Z] [work-queue] {"queueLength":0,"workRunningCount":8}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-09T17:42:36.765Z] [runtime-status] [24706] Functions runtime initialized. {"cwd":"/home/govind/Desktop/amazon-clone/functions","node_version":"14.4.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Functions runtime initialized. {\"cwd\":\"/home/govind/Desktop/amazon-clone/functions\",\"node_version\":\"14.4.0\"}"}}
[debug] [2022-10-09T17:42:36.767Z] [runtime-status] [24706] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Disabled runtime features: undefined"}}
[debug] [2022-10-09T17:42:36.769Z] [runtime-status] [24706] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:36.771Z] [runtime-status] [24706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:36.772Z] [runtime-status] [24706] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-09T17:42:36.773Z] [runtime-status] [24706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:36.818Z] [runtime-status] [24706] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-09T17:42:36.818Z] [runtime-status] [24706] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-09T17:42:36.820Z] [runtime-status] [24706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:36.820Z] [runtime-status] [24706] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:36.822Z] [runtime-status] [24706] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-09T17:42:36.822Z] [runtime-status] [24706] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/home/govind/Desktop/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-09T17:42:36.952Z] [runtime-status] [24706] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-10-09T17:42:36.976Z] [runtime-status] [24706] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Running api in signature http"}}
[debug] [2022-10-09T17:42:36.984Z] [runtime-status] [24706] Attempting to listen to socketPath: /tmp/fire_emu_24706.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Attempting to listen to socketPath: /tmp/fire_emu_24706.sock"}}
[debug] [2022-10-09T17:42:36.997Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-09T17:42:36.997Z] [functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20} {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-e34cd/us-central1/api/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}, mapping to path=/payments/create?total%20=%20%E2%82%B9{getBasketTotal(basket)*100%20}"}}
[debug] [2022-10-09T17:42:37.011Z] [runtime-status] [24706] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Ephemeral server handling POST request"}}
[info] >  Payment request Recieved BOOM!!! for this amount >>>  42 {"user":"Payment request Recieved BOOM!!! for this amount >>>  42","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Payment request Recieved BOOM!!! for this amount >>>  42"}}
[debug] [2022-10-09T17:42:37.041Z] [runtime-status] [24706] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [24706] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-10-09T17:42:37.065Z] [worker-us-central1-api-5a08f6bd-d1aa-46f1-8853-c28dde67527f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5a08f6bd-d1aa-46f1-8853-c28dde67527f]: IDLE"}}
[debug] [2022-10-09T17:42:37.065Z] [work-queue] {"queueLength":0,"workRunningCount":7}
[info] >  ReferenceError: paymentIntent is not defined {"user":"ReferenceError: paymentIntent is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ReferenceError: paymentIntent is not defined"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/index.js:35:23 {"user":"    at /home/govind/Desktop/amazon-clone/functions/index.js:35:23","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/index.js:35:23"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/home/govind/Desktop/amazon-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/home/govind/Desktop/amazon-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-09T23:51:46.311Z] Received signal SIGHUP 1
